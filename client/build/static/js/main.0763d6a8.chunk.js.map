{"version":3,"sources":["assets/mern-logo.png","components/Header.js","components/Footer.js","utils/Auth.js","components/Home.js","utils/mutations.js","components/Login.js","components/Signup.js","components/LoginSignup.js","components/FetchButton.js","components/QuizSelect.js","components/Profile.js","components/NotFound.js","components/Question.js","components/FinalScreen.js","components/PrivateRoute.js","App.js","Reducer.js","index.js"],"names":["Header","className","src","mernLogo","alt","Footer","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","Home","console","log","auth","loggedIn","useState","user","navigate","useNavigate","onClick","logout","LOGIN_USER","gql","ADD_USER","Login","username","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","useMutation","loginUser","handleInputChange","error","event","target","name","value","handleFormSubmit","preventDefault","currentTarget","checkValidity","stopPropagation","variables","data","Auth","login","Form","noValidate","onSubmit","Alert","dismissible","onClose","show","variant","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","Button","disabled","Signup","addUser","LoginSignup","FetchButton","props","questionCategory","useSelector","state","options","question_category","dispatch","useDispatch","setLoading","loading","handleQuery","apiUrl","length","concat","fetch","then","res","json","response","results","questions","index","score","text","Settings","setOptions","useEffect","handleLoadingChange","trivia_categories","map","option","id","Profile","NotFound","decodeHTML","html","txt","document","createElement","innerHTML","Question","setQuestions","answerSelected","setAnswerSelected","selectedAnswer","setSelectedAnswer","encodedQuestions","decodedQuestions","q","question","correct_answer","incorrect_answers","a","questionIndex","answer","max","answers","splice","Math","floor","random","handleListItemClick","textContent","setTimeout","getClass","i","FinalScreen","PrivateRoute","children","to","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","cache","InMemoryCache","App","ApolloProvider","path","element","QuizSelect","initState","Reducer","action","store","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0763d6a8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mern-logo.0e1fd87c.png\";","import React from 'react';\nimport mernLogo from '../assets/mern-logo.png'\n\nfunction Header() {\n\n    return (\n        <header className='d-flex'>\n            <div className='d-flex row'>\n                <div className='logo-div mx-3 m-1'>\n                    <img className='mern-logo' src={mernLogo} alt='MERN Logo'></img>\n                </div>\n                <div className='mern-trivia'>\n                    <h1 className='m-0'>MERN Trivia</h1>\n                </div>\n            </div>\n        </header>\n    )\n}\n\nexport default Header","import React from 'react';\n\nfunction Footer() {\n\n    return (\n        <footer className='page-footer'></footer>\n    )\n}\n\nexport default Footer","// use this to decode a token and get the user's information out of it\nimport decode from 'jwt-decode';\n\n// create a new class to instantiate for a user\nclass AuthService {\n  // get user data\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  // check if user's logged in\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token); // handwaiving here\n  }\n\n  // check if token is expired\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport auth from '../utils/Auth';\n\nfunction Home() {\n    console.log(auth.loggedIn());\n    const [user, setUser] = useState('');\n    const navigate = useNavigate();\n    // useEffect(() => {\n    //     const { data } = auth.getProfile();\n    //     const username = data.username\n    //     setUser(username);\n    //     return username;\n    // }, [])\n\n    return (\n        <main className='page-main d-flex justify-content-center align-items-center'>\n            <div className='text-center'>Welcome, {user}!</div>\n            <div className='home-buttons m-5'>\n                <button className='btn' onClick={() => { navigate('/select') }}>Quizzes</button>\n                <button className='btn' onClick={() => { navigate('/profile') }}>Profile</button>\n                {auth.loggedIn() \n                ? (<button className='btn' onClick={auth.logout}>Logout</button>) \n                : (<button className='btn' onClick={() => { navigate('/login') }}>Login</button>)}\n            </div>\n        </main>\n    )\n}\n\nexport default Home","import gql from 'graphql-tag';\n\nexport const LOGIN_USER = gql`\nmutation loginUser($username: String!, $password: String!) {\n  login(username: $username, password: $password) {\n    token\n    user {\n      _id\n    }\n  }\n}\n`;\n\nexport const ADD_USER = gql`\nmutation addUser($username: String!, $password: String!) {\n  addUser(username: $username, password: $password) { \n    user {\n      _id\n      username\n    }\n    token\n  }\n}\n`;\n\n","// see SignupForm.js for comments\nimport React, { useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\n// import useMutation and LOGIN-USER\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN_USER } from \"../utils/mutations\";\n\nimport Auth from \"../utils/Auth\";\n\nconst Login = () => {\n  const [userFormData, setUserFormData] = useState({ username: \"\", password: \"\" });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n\n  // declaring loginUser with useMutation\n  const [loginUser, { error }] = useMutation(LOGIN_USER);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    // use loginUser function\n    try {\n      const { data } = await loginUser({\n        variables: { ...userFormData },\n      });\n\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <>\n        <div>Login</div>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        <Alert\n          dismissible\n          onClose={() => setShowAlert(false)}\n          show={showAlert}\n          variant=\"danger\"\n        >\n          Something went wrong with your login credentials!\n        </Alert>\n        <Form.Group>\n          <Form.Label htmlFor='username'>Username</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your username'\n            name='username'\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Your password\"\n            name=\"password\"\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Password is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.username && userFormData.password)}\n          type=\"submit\"\n          variant=\"success\"\n        >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default Login;","import React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\n\nimport { useMutation } from '@apollo/react-hooks';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/Auth';\n\nconst Signup = () => {\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({ username: '', password: '' });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n  // declare addUser function \n  const[addUser] = useMutation(ADD_USER);\n\n  const handleInputChange = (event) => {\n    // console.log(event.target.name, event.target.value);\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    console.log(userFormData);\n    // console.log('event', event);\n    // console.log('event.currentTarget', event.currentTarget);\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    // console.log(form.checkValidity());\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    console.log('after propogation');\n\n    try {\n      const { data } = await addUser({\n        variables: { ...userFormData}\n      });\n\n      console.log('data', data);\n\n      Auth.login(data.addUser.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    } \n\n    console.log('after Auth login');\n\n    setUserFormData({\n      username: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n        <div>Signup</div>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group>\n          <Form.Label htmlFor='username'>Username</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Create username'\n            name='username'\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.username && userFormData.password)}\n          type='submit'\n          variant='success'>\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default Signup;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Login from './Login';\nimport Signup from './Signup';\n\nfunction LoginSignup() {\n    const navigate = useNavigate();\n\n    return (\n      <div className=''>\n        <Login />\n        <Signup />\n        <div className='home-buttons'>\n        <button className='btn' onClick={() => { navigate('/') }}>Home</button>\n      </div>\n      </div>\n    );\n}\n\nexport default LoginSignup","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction FetchButton(props) {\n  const navigate = useNavigate();\n\t// access the settings that will be used to construct the API query\n  const questionCategory = useSelector(state => state.options.question_category)\n  // const questionIndex = useSelector(state => state.index)\n\t\n  const dispatch = useDispatch()\n\n  const setLoading = value => {\n    dispatch({\n      type: 'CHANGE_LOADING',\n      loading: value\n    })\n  }\n  const setQuestions = value => {\n    dispatch({\n      type: 'SET_QUESTIONS',\n      questions: value\n    })\n  }\n\n  const handleQuery = async () => {\n\t\t// we always need to specify the number of questions that we\n\t\t// want to be returned\n    let apiUrl = `https://opentdb.com/api.php?amount=10`;\n\t\t// only add the rest of the parameters if they aren't 'all'\n    if (questionCategory.length) {\n      apiUrl = apiUrl.concat(`&category=${questionCategory}`)\n    }\n\n    setLoading(true);\n\n    await fetch(apiUrl)\n    .then((res) => res.json())\n    .then((response) => {\n        setQuestions(response.results)\n        setLoading(false);\n    });\n\n    // if (questionIndex > 0) {\n      dispatch({\n        type: 'SET_INDEX',\n        index: 0,\n      })\n\n      dispatch({\n        type: 'SET_SCORE',\n        score: 0,\n      })\n\n    navigate('/quiz');\n  }\n\t// we will resuse this component, so the button text will be passed as props\n  return <button onClick={handleQuery} className='btn'>{props.text}</button>;\n}\nexport default FetchButton;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport FetchButton from './FetchButton';\n\nfunction Settings() {\n  const navigate = useNavigate();\n  const [options, setOptions] = useState(null);\n\t// replace state hooks with useSelector\n  const loading = useSelector(state => state.options.loading)\n  const questionCategory = useSelector(state => state.options.question_category)\n\t\n\t// defining to dispatch the actions\n  const dispatch = useDispatch()\n  useEffect(() => {\n    const apiUrl = `https://opentdb.com/api_category.php`;\n    const handleLoadingChange = value => {\n      dispatch({\n        type: 'CHANGE_LOADING',\n        loading: value\n      })\n    }\n    handleLoadingChange(true);\n    fetch(apiUrl)\n      .then((res) => res.json())\n      .then((response) => {\n        handleLoadingChange(false);\n        setOptions(response.trivia_categories);\n      });\n  }, [setOptions, dispatch]);\n\t// replace setState with actions\n  const handleCategoryChange = event => {\n    dispatch({\n      type: 'CHANGE_CATEGORY',\n      value: event.target.value\n    })\n  }\n\tif (!loading) {\n\t\treturn (\n\t\t  <div className='d-flex flex-column'>\n        <div className='text-center'>\n          <h2>Select Category:</h2>\n          <select value={questionCategory} onChange={handleCategoryChange} className='w-75'>\n            <option>All</option>\n            {options && options.map((option) => (\n            <option value={option.id} key={option.id}>\n              {option.name}\n            </option>\n            ))}\n          </select>\n        </div>\n        <div className='select-buttons'>\n          <FetchButton text=\"Start!\" />\n          <button onClick={() => {navigate('/')}} className='btn'>Home</button>\n        </div>\n\t\t  </div>\n\t\t);\n\t} else {\n\t\t<p>\n      LOADING...\n    </p>\n\t}\n}\nexport default Settings;","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Profile() {\n    const navigate = useNavigate();\n\n    return (\n        <main className='page-main d-flex justify-content-center align-items-center'>\n            <div className='text-center'>Profile</div>\n            <div className='home-buttons'>\n                <button className='btn' onClick={() => { navigate('/') }}>Home</button>\n            </div>\n        </main>\n    )\n}\n\nexport default Profile","import React from 'react';\n\nfunction NotFound() {\n\n    return (\n        <main className='page-main d-flex justify-content-center align-items-center'>\n            <div className='text-center'>Not Found</div>\n        </main>\n    )\n}\n\nexport default NotFound","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\n\nconst decodeHTML = function (html) {\n  const txt = document.createElement('textarea')\n  txt.innerHTML = html\n  return txt.value\n}\nfunction Question() {\n  const navigate = useNavigate();\n  const [questions, setQuestions] = useState([])\n  const [answerSelected, setAnswerSelected] = useState(false)\n  const [selectedAnswer, setSelectedAnswer] = useState(null)\n  const [options, setOptions] = useState([])\n  const score = useSelector((state) => state.score)\n  const encodedQuestions = useSelector((state) => state.questions)\n  \n  useEffect(() => {\n    const decodedQuestions = encodedQuestions.map(q => {\n      return {\n        ...q,\n        question: decodeHTML(q.question),\n        correct_answer: decodeHTML(q.correct_answer),\n        incorrect_answers: q.incorrect_answers.map(a => decodeHTML(a))\n      }\n    })\n    setQuestions(decodedQuestions)\n  }, [encodedQuestions])\n  const questionIndex = useSelector((state) => state.index);\n  const dispatch = useDispatch()\n  const question = questions[questionIndex]\n  const answer = question && question.correct_answer\n  const getRandomInt = (max) => {\n    return Math.floor(Math.random() * Math.floor(max))\n  }\n  useEffect(() => {\n    if (questionIndex >= 10) {\n      navigate('/final');\n    }\n    if (!question) {\n      return;\n    }\n    let answers = [...question.incorrect_answers]\n    answers.splice(getRandomInt(question.incorrect_answers.length), 0, question.correct_answer)\n    setOptions(answers)\n  }, [question])\n  const handleListItemClick = (event) => {\n    setAnswerSelected(true)\n    setSelectedAnswer(event.target.textContent)\n    if (event.target.textContent === answer) {\n      dispatch({\n        type: 'SET_SCORE',\n        score: score + 1,\n      })\n    }\n    if (questionIndex + 1 <= questions.length) {\n      setTimeout(() => {\n        setAnswerSelected(false)\n        setSelectedAnswer(null)\n        dispatch({\n          type: 'SET_INDEX',\n          index: questionIndex + 1,\n        })\n      }, 2500)\n    }\n  }\n\n  const getClass = option => {\n    if (!answerSelected) {\n      return ``;\n    }\n    if (option === answer) {\n      return `correct disabled`;\n    }\n    if (option === selectedAnswer) {\n      return `selected disabled`;\n    } else {\n      return `disabled`;\n    }\n  }\n  if (!question) {\n    return <div>Loading</div>\n  }\n  return (\n    <div>\n      <p>Question {questionIndex + 1}</p>\n      <h3>{question.question}</h3>\n      <ul>\n        {options.map((option, i) => (\n          <li key={i} onClick={handleListItemClick} className={getClass(option)}>\n            {option}\n          </li>\n        ))}\n      </ul>\n      <div>\n        Score: {score} / {questions.length}\n      </div>\n    </div>\n  )\n}\n\nexport default Question","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\n\nfunction FinalScreen() {\n  const navigate = useNavigate();\n  const score = useSelector((state) => state.score)\n\n  return (\n    <div className='d-flex flex-column'>\n      <h3>Final Score: {score}</h3>\n      <div className='select-buttons'>\n        <button onClick={() => {navigate('/')}} className='btn'>Home</button>\n        <button onClick={() => {navigate('/profile')}} className='btn'>Profile</button>\n      </div>\n    </div>\n  )\n}\nexport default FinalScreen","import React from \"react\";\nimport Auth from \"../utils/Auth\";\nimport { Navigate } from \"react-router-dom\";\n\nfunction PrivateRoute({ children}) {\n    let auth = Auth.loggedIn();\n    return (\n      auth\n          ? children\n          : <Navigate to=\"/login\" />\n    );\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Home from './components/Home';\nimport LoginSignup from './components/LoginSignup';\nimport QuizSelect from './components/QuizSelect';\nimport Profile from './components/Profile';\nimport NotFound from './components/NotFound'\nimport './App.css'; \nimport Question from './components/Question';\nimport FinalScreen from './components/FinalScreen';\nimport { setContext } from '@apollo/client/link/context';\nimport PrivateRoute from './components/PrivateRoute';\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache()\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n    <div></div>\n      <Header />\n      <Router>\n        <Routes>\n          <Route \n            path=\"/\" \n            element={<Home />}\n          />\n          <Route \n            path=\"/login\" \n            element={<LoginSignup />}\n          />\n          <Route\n          path=\"/select\"\n          element={\n            <PrivateRoute>\n              <QuizSelect />\n            </PrivateRoute>\n          }\n        />\n          <Route \n            path=\"/quiz\" \n            element={<Question />}\n          />\n          <Route \n            path=\"/final\" \n            element={<FinalScreen />}\n          />\n          <Route\n          path=\"/profile\"\n          element={\n            <PrivateRoute>\n              <Profile />\n            </PrivateRoute>\n          }\n        />\n          <Route \n            path=\"*\"\n            element={<NotFound />}\n          />\n        </Routes>\n      </Router>\n      <Footer />\n      </ApolloProvider>\n  );\n}\n\nexport default App;","// src/Reducer.js\nconst initState = {\n    options: {\n      loading: false,\n      question_category: ``,\n      index: 0,\n      score: 0\n    }\n  }\n  const Reducer = (state = initState, action) => {\n    switch (action.type) {\n      case \"CHANGE_LOADING\":\n        return {\n          ...state,\n          options: {\n            ...state.options,\n            loading: action.value\n          }\n        }\n      case \"CHANGE_CATEGORY\":\n        return {\n          ...state,\n          options: {\n            ...state.options,\n            question_category: action.value\n          }\n        }\n      case \"SET_QUESTIONS\":\n        return {\n          ...state,\n          questions: action.questions\n        }\n      case \"SET_INDEX\":\n        console.log('action.index', action.index)\n        return {\n        ...state,\n        index: action.index\n      }\n      case \"SET_SCORE\":\n        return {\n        ...state,\n        score: action.score\n      }\n      default:\n        return state\n    }\n  }\n  export default Reducer","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport Reducer from './Reducer'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\n\nconst store = createStore(Reducer)\n\nReactDOM.render(\n  \n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}