{"ast":null,"code":"import _slicedToArray from\"/Users/abe/Documents/00 Berkeley Bootcamp/mern-trivia/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import FetchButton from'./FetchButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Settings(){var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),options=_useState2[0],setOptions=_useState2[1];// replace state hooks with useSelector\nvar loading=useSelector(function(state){return state.options.loading;});var questionCategory=useSelector(function(state){return state.options.question_category;});// defining to dispatch the actions\nvar dispatch=useDispatch();useEffect(function(){var apiUrl=\"https://opentdb.com/api_category.php\";var handleLoadingChange=function handleLoadingChange(value){dispatch({type:'CHANGE_LOADING',loading:value});};handleLoadingChange(true);fetch(apiUrl).then(function(res){return res.json();}).then(function(response){handleLoadingChange(false);setOptions(response.trivia_categories);});},[setOptions,dispatch]);// replace setState with actions\nvar handleCategoryChange=function handleCategoryChange(event){dispatch({type:'CHANGE_CATEGORY',value:event.target.value});};if(!loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Category:\"}),/*#__PURE__*/_jsxs(\"select\",{value:questionCategory,onChange:handleCategoryChange,className:\"w-75\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),options&&options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.id,children:option.name},option.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-buttons\",children:[/*#__PURE__*/_jsx(FetchButton,{text:\"Start!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate('/');},className:\"btn\",children:\"Home\"})]})]});}else{/*#__PURE__*/_jsx(\"p\",{children:\"LOADING...\"});}}export default Settings;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","useNavigate","FetchButton","Settings","navigate","options","setOptions","loading","state","questionCategory","question_category","dispatch","apiUrl","handleLoadingChange","value","type","fetch","then","res","json","response","trivia_categories","handleCategoryChange","event","target","map","option","id","name"],"sources":["/Users/abe/Documents/00 Berkeley Bootcamp/mern-trivia/client/src/components/QuizSelect.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport FetchButton from './FetchButton';\n\nfunction Settings() {\n  const navigate = useNavigate();\n  const [options, setOptions] = useState(null);\n\t// replace state hooks with useSelector\n  const loading = useSelector(state => state.options.loading)\n  const questionCategory = useSelector(state => state.options.question_category)\n\t\n\t// defining to dispatch the actions\n  const dispatch = useDispatch()\n  useEffect(() => {\n    const apiUrl = `https://opentdb.com/api_category.php`;\n    const handleLoadingChange = value => {\n      dispatch({\n        type: 'CHANGE_LOADING',\n        loading: value\n      })\n    }\n    handleLoadingChange(true);\n    fetch(apiUrl)\n      .then((res) => res.json())\n      .then((response) => {\n        handleLoadingChange(false);\n        setOptions(response.trivia_categories);\n      });\n  }, [setOptions, dispatch]);\n\t// replace setState with actions\n  const handleCategoryChange = event => {\n    dispatch({\n      type: 'CHANGE_CATEGORY',\n      value: event.target.value\n    })\n  }\n\tif (!loading) {\n\t\treturn (\n\t\t  <div className='d-flex flex-column'>\n        <div className='text-center'>\n          <h2>Select Category:</h2>\n          <select value={questionCategory} onChange={handleCategoryChange} className='w-75'>\n            <option>All</option>\n            {options && options.map((option) => (\n            <option value={option.id} key={option.id}>\n              {option.name}\n            </option>\n            ))}\n          </select>\n        </div>\n        <div className='select-buttons'>\n          <FetchButton text=\"Start!\" />\n          <button onClick={() => {navigate('/')}} className='btn'>Home</button>\n        </div>\n\t\t  </div>\n\t\t);\n\t} else {\n\t\t<p>\n      LOADING...\n    </p>\n\t}\n}\nexport default Settings;"],"mappings":"kJAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,YAAW,KAAM,eAAe,CAAC,wFAExC,QAASC,SAAQ,EAAG,CAClB,GAAMC,SAAQ,CAAGH,WAAW,EAAE,CAC9B,cAA8BH,QAAQ,CAAC,IAAI,CAAC,wCAArCO,OAAO,eAAEC,UAAU,eAC3B;AACC,GAAMC,QAAO,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,MAAK,CAACH,OAAO,CAACE,OAAO,GAAC,CAC3D,GAAME,iBAAgB,CAAGV,WAAW,CAAC,SAAAS,KAAK,QAAIA,MAAK,CAACH,OAAO,CAACK,iBAAiB,GAAC,CAE/E;AACC,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9BH,SAAS,CAAC,UAAM,CACd,GAAMe,OAAM,uCAAyC,CACrD,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAGC,KAAK,CAAI,CACnCH,QAAQ,CAAC,CACPI,IAAI,CAAE,gBAAgB,CACtBR,OAAO,CAAEO,KACX,CAAC,CAAC,CACJ,CAAC,CACDD,mBAAmB,CAAC,IAAI,CAAC,CACzBG,KAAK,CAACJ,MAAM,CAAC,CACVK,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,QAAQ,CAAK,CAClBP,mBAAmB,CAAC,KAAK,CAAC,CAC1BP,UAAU,CAACc,QAAQ,CAACC,iBAAiB,CAAC,CACxC,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,UAAU,CAAEK,QAAQ,CAAC,CAAC,CAC3B;AACC,GAAMW,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAGC,KAAK,CAAI,CACpCZ,QAAQ,CAAC,CACPI,IAAI,CAAE,iBAAiB,CACvBD,KAAK,CAAES,KAAK,CAACC,MAAM,CAACV,KACtB,CAAC,CAAC,CACJ,CAAC,CACF,GAAI,CAACP,OAAO,CAAE,CACb,mBACE,aAAK,SAAS,CAAC,oBAAoB,wBAC/B,aAAK,SAAS,CAAC,aAAa,wBAC1B,wCAAyB,cACzB,gBAAQ,KAAK,CAAEE,gBAAiB,CAAC,QAAQ,CAAEa,oBAAqB,CAAC,SAAS,CAAC,MAAM,wBAC/E,+BAAoB,CACnBjB,OAAO,EAAIA,OAAO,CAACoB,GAAG,CAAC,SAACC,MAAM,qBAC/B,eAAQ,KAAK,CAAEA,MAAM,CAACC,EAAG,UACtBD,MAAM,CAACE,IAAI,EADiBF,MAAM,CAACC,EAAE,CAE/B,EACR,CAAC,GACK,GACL,cACN,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,KAAC,WAAW,EAAC,IAAI,CAAC,QAAQ,EAAG,cAC7B,eAAQ,OAAO,CAAE,kBAAM,CAACvB,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,kBAAc,GACjE,GACJ,CAET,CAAC,IAAM,CACN,8CAEM,CACP,CACD,CACA,cAAeD,SAAQ"},"metadata":{},"sourceType":"module"}